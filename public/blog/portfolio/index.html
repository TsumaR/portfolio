<!DOCTYPE html>
<html lang="ja">
    <head>
        
        <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="description" content="Website Description">
<title>
HugoとNetlifyでホームページ作成 - Ryota Wagatsuma
</title>



        <meta property="og:title" content="HugoとNetlifyでホームページ作成 - Ryota Wagatsuma" />
<meta property="og:type" content="website" />
<meta property="og:description" content="Website Description"/>
<meta property="og:url" content="https://www.tsumar.com/blog/portfolio/"/>
<meta property="og:site_name" content="Ryota Wagatsuma"/>




<meta property="og:image" content="https://www.tsumar.com/home/profile.JPG"/>




        
<link rel="shortcut icon" href="/img/fav.ico">


        





<link rel="stylesheet" href="/css/main.min.1eaffbdff5446b797511e3967e8419d2ad7851677604addf74d560bdfc5f91c7.css" integrity="sha256-Hq/73/VEa3l1EeOWfoQZ0q14UWd2BK3fdNVgvfxfkcc=" crossorigin="anonymous" media="screen">





        
        
        
        
    </head>
    <body>
        <section id="top" class="section">
            
            <div class="container hero  fade-in one ">
                

    <h1 class="bold-title is-1">Blog</h1>


            </div>
            
            <div class="section  fade-in two ">
                
<div class="container">
    <hr>
    <nav class="navbar" role="navigation" aria-label="main navigation">
        
        <a role="button" class="navbar-burger" data-target="navMenu" aria-label="menu" aria-expanded="false" >
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
        <div class="navbar-menu " id="navMenu">
            
            
            
            
            <a class="navbar-item" href="/"></a>
            

            
            

            
                
            

            
                
            

            
            
            
            
            
            <a class="navbar-item" href="/#about">About</a>
            
            
            
            
            
                
                
                
                
                  <a class="navbar-item" href="https://www.tsumar.com/projects/">
                  
                  Work
                  
                  </a>
                
                
            
            
            
            
            
                
                
                
                
                  <a class="navbar-item" href="https://www.tsumar.com/blog/">
                  
                  
                  
                  </a>
                
                
            
            
            
            

            
            
            <a class="navbar-item" href="/#contact">Contact</a>
            
            

            

            
            
        </div>
    </nav>
    <hr>
</div>



                
    <div class="container">
        <h2 class="title is-1 top-pad strong-post-title">
            <a href="https://www.tsumar.com/blog/portfolio/">HugoとNetlifyでホームページ作成</a>
        </h2>
        <div class="post-data">
            Mar 30, 2020 |
            
        </div>
        
        <div class="blog-share">
            :
            
            <a class="twitter-share-button" href="https://twitter.com/intent/tweet?text=Hugo%e3%81%a8Netlify%e3%81%a7%e3%83%9b%e3%83%bc%e3%83%a0%e3%83%9a%e3%83%bc%e3%82%b8%e4%bd%9c%e6%88%90%20https%3a%2f%2fwww.tsumar.com%2fblog%2fportfolio%2f" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fab fa-twitter"></i>
                <span class="hidden">Twitter</span>
            </a>
            
            
            <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.tsumar.com%2fblog%2fportfolio%2f"  onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                <i class="fab fa-facebook-f"></i>
                <span class="hidden">Facebook</span>
            </a>
            
            
            <a class="icon-pinterest" href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2fwww.tsumar.com%2fblog%2fportfolio%2f&amp;description=Hugo%e3%81%a8Netlify%e3%81%a7%e3%83%9b%e3%83%bc%e3%83%a0%e3%83%9a%e3%83%bc%e3%82%b8%e4%bd%9c%e6%88%90" onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
                <i class="fab fa-pinterest-p"></i>
                <span class="hidden">Pinterest</span>
            </a>
            
            
            <a class="icon-google-plus" href="https://plus.google.com/share?url=https%3a%2f%2fwww.tsumar.com%2fblog%2fportfolio%2f" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                <i class="fab fa-google-plus-g"></i>
                <span class="hidden">Google+</span>
            </a>
            
        </div>
        
        
    </div>
    
    <div class="container markdown top-pad">
        <p>このホームページを作成した時のログ</p>
<h1 id="portfolioを作る">portfolioを作る</h1>
<p>HUGOとnetifyで作成したportfolioにすることを目指した，ログブログ。
git submoduleの使い方に詰まったので，<a href="https://qiita.com/sotarok/items/0d525e568a6088f6f6bb">この記事</a>などを参考にした。</p>
<h3 id="hugoのインストール">HUGOのインストール　</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">brew update
brew install HUGO
</code></pre></div><h3 id="hugoの準備">HUGOの準備</h3>
<p>まず，自分のportfolioを設置するディレクトリを作成し，<code>.git</code>を作成する。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">hugo new site portfolio
cd portfolio
git init
git add .
git commit -m <span style="color:#e6db74">&#39;Initial commit&#39;</span>
</code></pre></div><h3 id="hugoテーマのintroductionをsubmoduleとして導入">HUGOテーマのintroductionをsubmoduleとして導入</h3>
<p>今回のportfolioにはHUGOの<a href="https://themes.gohugo.io/hugo-theme-introduction/">introduction</a>テーマを用いた。
先ほど作成したportfolioディレクトリに上記のテーマのサブモジュールを追加する。
<em>(注釈)</em>
git submodule は、外部の git リポジトリを、自分の git リポジトリのサブディレクトリとして登録し、特定の commit を参照する仕組みです。
通常のレポジトリがブランチ単位で管理するのに対して，サブモジュールはCommitID単位で管理するというのが大きな違い。
<code>push</code>権限のため，自分のgithubにフォークしたレポジトリのサブモジュールを加えた。この方法が正しいのかは不確か。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git submodule add https://github.com/TsumaR/hugo-theme-introduction.git themes/introduction
git submodule init
git submodule update
git submodule update —remote themes/introduction
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git merge --allow-unrelated-histories origin/master
</code></pre></div><p>で強行突破</p>
<h3 id="configファイルの編集">configファイルの編集</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">cd ../../ <span style="color:#75715e">#元のportfolioディレクトリに移動</span>
cp ./themes/introduction/exampleSite/config.toml ./config.toml
</code></pre></div><p>言語設定を日本語に，contentDirの設定を<code>content</code>に変更する。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">vim config.toml
git add config.toml
git commit -m <span style="color:#e6db74">&#34;setting config file&#34;</span>
</code></pre></div><h3 id="基本ファイルの作成">基本ファイルの作成　</h3>
<p>とりあえず，骨格となる書類を追加していく。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">hugo new home/index.md
hugo new blog/_index.md
hugo new work/_index.md
</code></pre></div><p>形式はsubmoduleした<code>themes/introduction/exampleSite</code>の中にあるファイルを参考にしてvimで編集した。</p>
<h3 id="ローカルでサイトの確認">ローカルでサイトの確認</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">hugo server
</code></pre></div><p>上記のコマンドにより，ポート1313のローカルサーバーが立ち上がる。ブラウザから<code>http://localhost:1313/</code>にアクセスして挙動を確認する。</p>
<h3 id="netlifyでの公開">netlifyでの公開</h3>
<p>次に作成したホームページを公開する。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">hugo
</code></pre></div><p>でpublicディレクトリの作成。さらに，netlifyの公式<a href="https://gohugo.io/hosting-and-deployment/hosting-on-netlify/">サイト</a>よりコピーした<code>netlify.toml</code>を<a href="https://qiita.com/jrfk/items/4c6df87ca72a76e30224">これらのサイト</a>を参考にして修正。</p>
<h4 id="ここまででのエラー">ここまででのエラー　</h4>
<ol>
<li>写真が表示されない　</li>
<li>latest postなどの表示がない　</li>
<li>記事を全部見るなどのページに飛んでいくリンクもページも存在しない</li>
</ol>
<h3 id="1-写真が表示されないについて">1. 写真が表示されないについて</h3>
<p>SSL認証による可能性があるので，独自ドメインを取得して，HTTPS設定をした。
参考にしたのはこの<a href="https://jamstack.jp/blog/how_to_set_custom_domain/">サイト</a>
Netlifyではwwwありドメインを強く推奨しているらしい。</p>
<p>結果的にHTTPSにしただけでは表示されなかった。結果的には，おそらく間違いが大量に存在した<code>config.toml</code>を修正して表示された。</p>
<p>2.3は記事を追加するだけで解決。</p>
<p><a href="https://blog.tomoya.dev/2019/01/hugo-with-netlify/">参考文献1</a>
<a href="https://r17n.page/2019/07/24/create-hexo-blog-process/">参考文献2</a></p>
<h1 id="注意">注意　</h1>
<p>submoduleを理解していないせいで</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">git merge --allow-unrelated-histories origin/master
</code></pre></div><p>をする羽目になった。
そもそもの基本で，GitHub側でREADMEを作ったならまずそれをpullしないと時系列がずれてしまう。
submoduleに関しては，submoduleディレクトリで<code>commit</code>，<code>push</code>したのちに親ディレクトリでその<code>commit</code>があったということを<code>commit</code>しないといけない。</p>

    </div>
    
    



                
                <div class="container">
    <hr>
</div>
<div class="container has-text-centered top-pad">
    <a href="#top">
        <i class="fa fa-arrow-up"></i>
    </a>
</div>

<div class="container">
    <hr>
</div>

                <div class="section" id="footer">
    <div class="container has-text-centered">
    
        <span class="footer-text">
            
        </span>
    
    </div>
</div>

                
            </div>
        </section>
        
        


<script src="https://www.tsumar.com/js/bundle.e6934e69d06bb8a213134f4c1468f9478bb7755e786dfb60e3c5a917c5335805.js" integrity="sha256-5pNOadBruKITE09MFGj5R4u3dV54bftg48WpF8UzWAU="></script>



        
        
        
        
    </body>
</html>
